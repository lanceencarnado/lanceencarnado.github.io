<!DOCTYPE html>
<html>
<head>
<title>Dragging game</title>
<style>

html,body {
	height: 90%;
}

.box{
	position: relative;
	height: 100%;		/* desired width */
}
.box:before{
	content: "";
	display: block;
	padding-top: 100%; 	/* initial ratio of 1:1*/
}

.content{
	position:  absolute;
	top: 0;
	left: 0;
	bottom: 0;
	right: 0;
  	/* background-color: powderblue; */
  	border-style: solid;
  	border-width: 2px;
}

</style>
<!-- using this stylesheet for the dialog -->
<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/jquery-1.7.2.min.js"></script>
<script src="https://code.jquery.com/ui/1.8.21/jquery-ui.min.js"></script>


<!-- LOCAL SCRIPT REFERENCE right now - change in production -->
<script src="scripts/jquery.ui.touch-punch.min.js"></script>

<script>
// $(function() {
// 	$( "#draggable" ).draggable();
// });

// dragging happens here
var top_z = 30;
$(function() {
	$( ".draggable" ).draggable({ // . = class, $ = id
		containment: "parent", // limit the dragging to within the parent container (the playground div)
		start: function() {
			this.style.zIndex = ++top_z;
		}
// 		stop: function() { // this is a listener for when the dragging has stopped
// 			var pos = $( ".draggable" ).position();
//   		}
  	});
});
</script>

<script>
// this makes the dialog div a dialog
$( function() {
	$( "#dialog" ).dialog();
} );
</script>

</head>

<body>
<div id="dialog" title="How to play">
  <p>Drag the images around with your mouse (desktop) or finger (mobile).</p>
</div>



<div class='box'> 
<div class="content" id="playground"> 


<img id="4_purple1_10" class="draggable" src="images/intuitiveassets/4_purple_10.png">
<img id="16_yellow3_shop2" class="draggable" src="images/intuitiveassets/16_yellow_shop2.png">
<img id="20_blue2_photos2" class="draggable" src="images/intuitiveassets/20_blue_photos2.png">
<img id="28_red_16" class="draggable" src="images/intuitiveassets/28_red_16.png">
<img id="32_green_phone2" class="draggable" src="images/intuitiveassets/32_green_phone2.png">
	

</div>
</div>
<button style="font-size: 20px; padding-right: 30px; padding-left: 30px; height:150px" class="ui-button ui-widget ui-corner-all" type="button" onclick="resetPositions()">RESET POSITIONS</button>


<script>

// TEMPORARY: click listener to get positions
$(document).on("click",".draggable", function (event) {
    console.log(this.id + "left: " + this.offsetLeft + ", top: " + this.offsetTop);
});

function resetPositions() {
    // reset zIndexes as well
    $( "#4_purple1_10" ).css("z-index", "4");
    $( "#16_yellow3_shop2" ).css("z-index", "16");
    $( "#20_blue2_photos2" ).css("z-index", "20");
    $( "#28_red_16" ).css("z-index", "28");
    $( "#32_green_phone2" ).css("z-index", "32");
    
    $( "#4_purple1_10" ).offset({ left: 160, top: 160 });
    $( "#16_yellow3_shop2" ).offset({ left: 220, top: 165 });
    $( "#20_blue2_photos2" ).offset({ left: 182, top: 277 });
    $( "#28_red_16" ).offset({ left: 436, top: 367 });
    $( "#32_green_phone2" ).offset({ left: 314, top: 245 });
}


window.onload = function() {
	resetPositions();
};
</script>

</body>
</html>
